webpackJsonp([0],{"1qGZ":function(t,e,a){"use strict";e.a={name:"VueGoogleAutocomplete",props:{id:{type:String,required:!0},classname:String,placeholder:{type:String,default:"Start typing"},types:{type:String,default:"address"},country:{type:[String,Array],default:null},enableGeolocation:{type:Boolean,default:!1}},data:function(){return{autocomplete:null,autocompleteText:""}},watch:{autocompleteText:function(t,e){this.$emit("inputChange",{newVal:t,oldVal:e})}},mounted:function(){var t=this,e={};this.types&&(e.types=[this.types]),this.country&&(e.componentRestrictions={country:this.country}),this.autocomplete=new google.maps.places.Autocomplete(document.getElementById(this.id),e),this.autocomplete.addListener("place_changed",function(){var e=t.autocomplete.getPlace();if(!e.geometry)return void t.$emit("no-results-found",e);var a={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},o={};if(void 0!==e.address_components){for(var n=0;n<e.address_components.length;n++){var s=e.address_components[n].types[0];if(a[s]){var i=e.address_components[n][a[s]];o[s]=i}}o.latitude=e.geometry.location.lat(),o.longitude=e.geometry.location.lng(),t.$emit("placechanged",o,e,t.id),t.autocompleteText=document.getElementById(t.id).value,t.onChange()}})},methods:{onFocus:function(){this.geolocate(),this.$emit("focus")},onBlur:function(){this.$emit("blur")},onChange:function(){this.$emit("change",this.autocompleteText)},onKeyPress:function(t){this.$emit("keypress",t)},clear:function(){this.autocompleteText=""},focus:function(){this.$refs.autocomplete.focus()},blur:function(){this.$refs.autocomplete.blur()},update:function(t){this.autocompleteText=t},geolocate:function(){var t=this;this.enableGeolocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude},o=new google.maps.Circle({center:a,radius:e.coords.accuracy});t.autocomplete.setBounds(o.getBounds())})}}}},"274r":function(t,e,a){"use strict";var o=a("1qGZ"),n=a("F+BS"),s=a("VU/8"),i=s(o.a,n.a,!1,null,null,null);e.a=i.exports},C6vJ:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"clearfix center p2"},[a("p",{staticClass:"h1"},[t._v("Locations Management")]),t._v(" "),a("a",{staticClass:"btn btn-outline border-navy right mt-2b1",on:{click:t.addData}},[t._v("Add New Location Infomation")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Location Name")]),t._v(" "),a("th",[t._v("Full Location Name")]),t._v(" "),a("th",[t._v("Description")]),t._v(" "),a("th",[t._v("Latitude")]),t._v(" "),a("th",[t._v("Longitude")]),t._v(" "),a("th",[t._v("LatLng")]),t._v(" "),a("th",[t._v("#")])])]),t._v(" "),a("tbody",t._l(t.locations,function(e,o){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.long))]),t._v(" "),a("td",[t._v(t._s(e.desc))]),t._v(" "),a("td",[t._v(t._s(e.lat))]),t._v(" "),a("td",[t._v(t._s(e.lng))]),t._v(" "),a("td",[t._v(t._s(e.ll))]),t._v(" "),a("td",[a("a",{staticClass:"btn",on:{click:function(a){t.editData(e)}}},[t._v("Edit")])])])}))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modaling,expression:"modaling"}],staticClass:"clearfix fixed top-0 bottom-0 left-0 right-0 border-box p2 flex items-center justify-center flex-wrap content-center bg-darken-4 z1"},[a("div",{staticClass:"col-12 max-width-4 p2 bg-white rounded"},[a("div",{staticClass:"col col-12 border-box p1 mb2 border-bottom border-silver"},[a("a",{staticClass:"btn p0 gray right btn-close",on:{click:t.closeModal}},[t._v("Ã—")]),t._v(" "),a("h3",{staticClass:"center"},[t._v("Search Place")]),t._v(" "),a("vue-google-autocomplete",{ref:"vg-place",attrs:{id:"vg-map",classname:"col-8 input border-orange mx-auto",placeholder:"You can use this to search a place",types:"geocode"},on:{placechanged:t.getPlace}})],1),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 flex items-start justify-start"},[a("label",{staticClass:"label col-2"},[t._v("Location Name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"col-10 input",attrs:{type:"text"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 flex items-start justify-start"},[a("label",{staticClass:"label col-2"},[t._v("Full Location Name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.long,expression:"item.long"}],staticClass:"col-10 input",attrs:{type:"text"},domProps:{value:t.item.long},on:{input:function(e){e.target.composing||t.$set(t.item,"long",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 flex items-start justify-start"},[a("label",{staticClass:"label col-2"},[t._v("Latitude:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.lat,expression:"item.lat"}],staticClass:"col-10 input",attrs:{type:"text"},domProps:{value:t.item.lat},on:{input:function(e){e.target.composing||t.$set(t.item,"lat",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 flex items-start justify-start"},[a("label",{staticClass:"label col-2"},[t._v("Longitude:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.lng,expression:"item.lng"}],staticClass:"col-10 input",attrs:{type:"text"},domProps:{value:t.item.lng},on:{input:function(e){e.target.composing||t.$set(t.item,"lng",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 flex items-start justify-start"},[a("label",{staticClass:"label col-2"},[t._v("LatLng:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ll,expression:"item.ll"}],staticClass:"col-10 input",attrs:{type:"text"},domProps:{value:t.item.ll},on:{input:function(e){e.target.composing||t.$set(t.item,"ll",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 flex items-start justify-start"},[a("label",{staticClass:"label col-2"},[t._v("Description:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.desc,expression:"item.desc"}],staticClass:"textarea m0 col-10",attrs:{rows:"5"},domProps:{value:t.item.desc},on:{input:function(e){e.target.composing||t.$set(t.item,"desc",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col col-12 border-box p1 center"},[t.saving?a("a",{staticClass:"btn btn-big btn-primary px4 bg-gray"},[t._v("Saving...")]):a("a",{staticClass:"btn btn-big btn-primary px4",on:{click:function(e){t.saveData(t.item)}}},[t._v("Save")])])])])])},n=[],s={render:o,staticRenderFns:n};e.a=s},Cl3J:function(t,e,a){"use strict";function o(t){a("xNZu")}var n=a("wLEQ"),s=a("awBn"),i=a("VU/8"),l=o,c=i(n.a,s.a,!1,l,"data-v-64e443bf",null);e.a=c.exports},"F+BS":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.autocompleteText,expression:"autocompleteText"}],ref:"autocomplete",class:t.classname,attrs:{type:"text",id:t.id,placeholder:t.placeholder},domProps:{value:t.autocompleteText},on:{focus:function(e){t.onFocus()},blur:function(e){t.onBlur()},change:t.onChange,keypress:t.onKeyPress,input:function(e){e.target.composing||(t.autocompleteText=e.target.value)}}})},n=[],s={render:o,staticRenderFns:n};e.a=s},FeBl:function(t,e){var a=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=a)},KcBL:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".mt-2b1[data-v-5b283ac0]{margin:-2rem 0 1rem}.btn-close[data-v-5b283ac0]{font-weight:300;font-size:2rem}","",{version:3,sources:["/Users/sunday/Codes/Shopify/vespa/hmazing-tools/src/components/LocationMap.vue"],names:[],mappings:"AACA,yBACC,mBAAuB,CACvB,AACD,4BACC,gBAAiB,AACjB,cAAgB,CAChB",file:"LocationMap.vue",sourcesContent:["\n.mt-2b1[data-v-5b283ac0] {\n\tmargin: -2rem 0 1rem 0;\n}\n.btn-close[data-v-5b283ac0] {\n\tfont-weight: 300;\n\tfont-size: 2rem;\n}\n"],sourceRoot:""}])},LKIm:function(t,e,a){"use strict";function o(t){a("sgpd")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("MU11"),s=a("C6vJ"),i=a("VU/8"),l=o,c=i(n.a,s.a,!1,l,"data-v-5b283ac0",null);e.default=c.exports},MU11:function(t,e,a){"use strict";var o=a("mvHQ"),n=a.n(o),s=a("Cl3J"),i=a("274r");e.a={name:"LocationMap",data:function(){return{api:"http://11.11.11.11:9000/",locations:[],item:{id:"",name:"",long:"",desc:"",lat:"",lng:"",ll:""},modaling:!1,saving:!1}},created:function(){this.fetchData().then(function(t){console.log(t)})},methods:{getPlace:function(t,e,a){var o=this,s=n()(e),i=JSON.parse(s);console.log(i),o.item.id=e.place_id,""==o.item.name&&(o.item.name=e.name),o.item.long=e.formatted_address;var l=t.latitude.toFixed(6),c=t.longitude.toFixed(6);o.item.lat=l,o.item.lng=c,o.item.ll=o.getLL(l,c)},getLL:function(t,e){return t=t<0?"S"+Math.abs(t):"N"+t,(e=e<0?"W"+Math.abs(e):"E"+e)+";"+t},formatLLL:function(t){return t.toFixed(6)},closeModal:function(){var t=this;t.locations.pop(),t.modaling=!1},addData:function(){var t=this;t.locations.push({id:"",name:"",long:"",desc:"",lat:"",lng:"",ll:""});var e=t.locations.length-1;t.item=t.locations[e],t.modaling=!0},editData:function(t){var e=this;e.item=t,e.modaling=!0},saveData:function(t){var e=this;e.saving=!0;var a=n()(e.locations),o={method:"post",body:a},s=e.api+"websh/uplocmap";fetch(s,o).then(e.checkStatus).then(function(t){console.log(t),e.modaling=!1,e.saving=!1})},fetchData:function(){var t=this,e=t.api+"websh/getlocmap";return fetch(e).then(t.checkStatus).then(function(e){return t.locations=e,e})},checkStatus:function(t){if(t.ok&&t.status>=200&&t.status<300){var e=t.headers.get("content-type");if(e&&e.includes("application/json"))return t.json();throw new TypeError("Oops, we haven't got JSON!")}var a=new Error(t.statusText);throw a.response=t,a}},components:{Layout:s.a,VueGoogleAutocomplete:i.a}}},awBn:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix"},[a("router-link",{staticClass:"p2 left",attrs:{to:"/"}},[t._v("< back")]),t._v(" "),t._t("default"),t._v(" "),a("a",{staticClass:"p2 fixed right-0 bottom-0",attrs:{href:"#"}},[t._v("^ top")])],2)},n=[],s={render:o,staticRenderFns:n};e.a=s},gWgm:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"a[data-v-64e443bf]:hover{color:#ff1493}","",{version:3,sources:["/Users/sunday/Codes/Shopify/vespa/hmazing-tools/src/components/Layout.vue"],names:[],mappings:"AACA,yBACC,aAAgB,CAChB",file:"Layout.vue",sourcesContent:["\na[data-v-64e443bf]:hover {\n\tcolor: deeppink;\n}\n"],sourceRoot:""}])},mvHQ:function(t,e,a){t.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(t,e,a){var o=a("FeBl"),n=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},sgpd:function(t,e,a){var o=a("KcBL");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("5e5131e2",o,!0)},wLEQ:function(t,e,a){"use strict";e.a={name:"Layout"}},xNZu:function(t,e,a){var o=a("gWgm");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("1c08a19c",o,!0)}});
//# sourceMappingURL=0.81928aaa74d56ea79855.js.map